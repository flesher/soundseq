var phase=0,seq=0,sequence=[[0,1,2,3,4,5,6,7],[0,0,2,2,3,3,4,4],[7,6,5,4,3,2,1,0],[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1],[2,2,2,2,2,2,2,2]],track1=new Track(0);track1.ready(function(){console.log("track ready",track1.profile,track1.analysis);var e=track1.tempo();console.log(e);var t=1e3/(e/60),n=new Howl({urls:[track1.file],sprite:{one:track1.beat(1,0),two:track1.beat(1,1),three:track1.beat(1,2),four:track1.beat(1,3),five:track1.beat(1,4),six:track1.beat(1,5),seven:track1.beat(1,6),eight:track1.beat(1,7)}});$("button").click(function(){seq+=1;console.log(seq);$(this).html(seq);seq>sequence.length&&(seq=0)});setInterval(function(){var e=Math.floor(Math.random()*8),t=["one","two","three","four","five","six","seven","eight"],r;r=sequence[seq][phase];n.play(t[r]);phase+=1;phase>7&&(phase=0)},t*2)});